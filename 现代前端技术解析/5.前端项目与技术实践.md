### 一、前端开发规范
#### 前端通用规范
* 三层结构分离
    * 结构层（HTML）、表现层（CSS）、行为层（JS)
* 缩进
    * 推荐使用 4 个空格缩进
* 内容编码
    * 在 HTML 文档中用<meta charset="utf-8">
* 大小写
    * 小写：HTML 标签、属性、样式名、规则
    * 小驼峰：JS 命名
* 代码单行长度限制
    * 不用超过 120 字符（或 80 字符）
* 注释
    * 添加必要的代码注释（单行注释、段注释）
* 行尾空格与符号
    * 删除行尾空格和多余的符号

#### 前端 HTML 规范
* 文档类型定义
    * 统一使用 HTML5 的标准文档类型<!DOCTYPE html>来定义
    * 不使用 HTML4.01 的 DTD 定义


* head 内容
    * 必须定义 title、keyword、description
    * 移动端要添加 viewport 禁止页面缩放
    * 建议加上基本的社交 RICH 信息
    ``` HTML
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta itemprop="name" content="页面标题">
    <meta name="description" itemprop="description" content="页面内容描述">
    <meta itemprop="image" content="http://xxx.com/logo.png">
    ```
* 省略 type 属性
    * 引入 CSS 或 JavaScript 时，可以省略 type 属性不写
* 必须使用双引号包裹属性名
    * 有利于区分标签的属性名和属性值
* 属性值省略
    省略非必要的属性值：readonly、disabled、required
* 嵌套
    * 不允许在 inline 元素中包含 block 元素
* 标签闭合
    在 HTML5 中自闭合标签可以不添加 /
* 使用 img 的 alt 属性
* 使用 label 的 for 属性
* 按模块添加注释
* 标签元素格式
* 语义化标签


#### 前端 CSS 规范
* CSS 引用规范
    * 用 link 引入外部样式文件
    * 强烈不建议在标签元素中使用内联样式
* 样式的命名规定
    * 由单词、中划线组成
* 简写方式
    * 属性值为 0 时可以不写单位
    * 整数部分为 0 的小数可以省略 0（0.6 => .6）
    * 颜色代码用小写，尽量缩写成三位
* 属性书写顺序
    * 先写布局属性，在写内容属性
* CSS 高效实现规范
    * 尽量避免标签名、id、class组合的选择器
    * 避免继承属性的重复定义
    * 使用预处理脚本编码开发


#### ES5 常用规范
* JS 语句后面统一加上分好
* 在所有运算符、数字、英文单词之间加上空格
* 在代码块后保留空行
* JS 的字符串最外层统一使用双引号
* 变量命名
    * 标准变量用驼峰式
    * 常量全大写，下划线
* 对象
    * 对象属性名不加引号
    * 属性后不能加逗号
* 大括号
* 条件判断
    * 使用 typeof 对 'undefined' 判断
    * 用 === 和 !==
* 不在条件语句或循环语句中声明函数


#### ES6+ 常用规范
* 使用 ES6 的变量声明关键字 let
* 字符串拼接使用字符串模板完成
``` JavaScript
let str = `<h1> ${name} </h1>
    <p>aaaa</p>
    `;
```
* 解构赋值尽量使用一层解构
* 数组拷贝推荐使用 `...` 实现
* 数组循环遍历使用 `for...of`，不推荐 `forEach`、`map`、简单循环
* 尽量使用 constructor 进行属性成员变量赋值
* 用 yield 时用 `try...catch` 包裹
* 推荐使用 promise
* 避免使用迭代器
* 合理使用 Generator，推荐使用 await/async

#### 前端防御性编程规范
* 对外部数据的安全检测判断
    * 定义默认内容
    ```
    <div>{{data.info && data.info || '默认内容'}}
    ```
    * 对后端数据先做检验再处理
* 规范化的错误处理
    * error(exception) {}
    * try ... catch


### 二、前端组件规范
#### UI 组件规范
* UI 层风格统一化
* 增加 UI 层复用性
* 符合用户的体验习惯
* 增加开发规范的统一性
* 考虑
    * 统一的布局方案
    * 基础 UI 结构和样式实现
    * 组件化 UI 结构和样式实现
    * 响应式布局
    * 扩展性

#### 模块化规范
**AMD（异步模块定义）**
* define、require 方法
* 主模块处理函数在文件加载完成之后执行

**CMD（通用模块定义）**
* seajs.use

**※ CommonJS**
* 使用 require 进行模块引入
* 使用 module.exports 来定义模块导出

**import / export**
* ES6 定义的 JS 模块引用方式

#### 项目组件化设计规范
Web Component 组件化、MVVM 框架组件化、Visual DOM 组件化

### 三、自动化构建
**自动化构建的目的**

模块化引入、依赖分析、资源合并、压缩优化、文件嵌入、路径替换、生成资源包

**自动化构建的原理**

读取入口文件 -> 分析模块引用 -> 按照引用加载模块 -> 模块文件编译处理 -> 模块文件合并 -> 文件优化处理 -> 写入生成目录

### 四、前端性能优化
#### 前端性能测试
**Performance Timing API**

用于记录页面加载和解析过程中关键时间点的机制，从而得到页面每个过程所消耗的时间

几个关键数据：解析 DOM 树耗时、load 事件耗时、整个加载过程耗时

**Profile 工具**

用于测试页面脚本运行时系统内存和 CPU 资源占用情况的 API

1. 分析页面脚本执行过程中最好资源的操作
2. 记录页面脚本执行过程中 JavaScript 对象消耗的内存及堆栈的使用情况
3. 检测页面脚本执行过程中 CPU 占用情况

**页面埋点计时**

在需要记录的操作执行前后保存时间戳，通常在移动端页面中使用

**资源加载时序图**

通过时序图可以确保文件加载顺序的情况，查看是否存在十分耗时的阻塞页面展示的资源加载

#### 桌面浏览器前端优化策略
